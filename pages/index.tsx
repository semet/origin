import Head from "next/head";
import type { HomeProps } from "common";
import type { NextPageWithLayout } from "next";
import { Fragment, ReactElement } from "react";
import MainLayout from "../components/layouts/MainLayout";
import MainBanner from "../components/page/home/MainBanner";
import CtaSection from "../components/page/home/CtaSection";
import MixedStatus from "../components/page/home/MixedStatus";
import BannerPromo from "../components/page/home/BannerPromo";
import BrandSection from "../components/page/home/BrandSection";
import PromoSection from "../components/page/home/PromoSection";
import NewItemSection from "../components/page/home/NewItemSection";
import CategorySection from "../components/page/home/CategorySection";
import FeaturedSection from "../components/page/home/FeaturedSection";
import TestimonialSection from "../components/page/home/TestimonialSection";
import ProductSaleSection from "../components/page/home/ProductSaleSection";
import { allCategories } from "../models/category";

const Home: NextPageWithLayout<HomeProps> = ({ categories }) => {
	return (
		<Fragment>
			<Head>
				<title>Origin: Your local shopping companion</title>
				<meta name="description" content="Generated by create next app" />
				<link rel="icon" href="/favicon.ico" />
			</Head>
			{/* MAin Banner */}
			<MainBanner />
			{/* Category Section */}
			<CategorySection categories={categories} />
			{/* Sale Section */}
			<ProductSaleSection />
			{/* Call To Action */}
			<CtaSection />
			{/* Featured Section */}
			<FeaturedSection />
			{/* Promo Countdown */}
			<PromoSection />
			{/* New Products Section */}
			<NewItemSection />
			{/* Promotion Banner */}
			<BannerPromo />
			{/* Mixed Product Status */}
			<MixedStatus />
			{/* Brand slider */}
			<BrandSection />
			{/* Testimonial */}
			<TestimonialSection />
		</Fragment>
	);
};

Home.getLayout = (page: ReactElement) => <MainLayout>{page}</MainLayout>;

export default Home;

export const getStaticProps = async () => {
	const categories = JSON.parse(JSON.stringify(await allCategories));

	return {
		props: {
			categories,
		},
	};
};
